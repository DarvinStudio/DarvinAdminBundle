Добавление раздела администрирования
====================================

**1. Создаем файл конфигурации раздела в формате YAML.**

Конфигурация описана в [справочнике](reference/admin_section_configuration.md). По договоренности файл конфигурации
 должен располагаться в каталоге "Resources/config/admin" вашего бандла и иметь имя, отражающее название сущности, для
 администрирования которой создается раздел. Примеры конфигурации можно найти в каталоге "Resources/config/admin" этого
 бандла.
  
Конфигурационный файл может наследоваться от другого. Для этого необходимо добавить в него ключ "extends", значением
 которого должен быть путь до конфига-родителя. Путь может быть относительным бандла, в таком случае он должен начинаться
 с символа "@". Пример:
 
```yaml
extends: '@DarvinUserBundle/Resources/config/admin/user.yaml'
```

При наследовании по умолчанию происходит объединение параметров алгоритмом, аналогичным реализованному в функции
 "array_replace_recursive()", но также доступны следующие возможности:

- удаление параметра из родительского конфига достигается добавлением к названию параметра префикса "remove~":

```yaml
remove~foo: ~
```

- замена параметра осуществляется с помощью префикса "override~", причем заменить можно только параметры-массивы, т. к.
 скаляры заменяются по умолчанию:

```yaml
view:
    index:
        override~fields:
            bar: ~
```

- для определения порядка параметров существуют префиксы "before~" и "after~":

```yaml
view:
    index:
        fields:
            before~bar~foo: ~
            after~bar~baz:  ~
```

В данном примере параметр "foo" будет помещен перед параметром "bar", а "baz" - после "bar".

В **корневом** файле иерархии возможно наследование параметров. Это достигается использованием префикса "extend~" в названии параметра:

```yaml
form:
    extend~edit~new:
        fields:
            remove~foo: ~
```

**2. Регистрируем раздел администрирования в секции "sections" [настроек](reference/configuration.md) бандла.**

Каждый раздел описывается ключом - классом сущности, для которой создается раздел администрирования, и тремя параметрами:

- **alias** - уникальный псевдоним раздела, если не указан, сгенерируется автоматически;
- **config** - путь до файла конфигурации, если не указан, то будет создана только
 [конфигурация безопасности](security_configurations.md), создание же непосредственно раздела администрирования
 останется на вас;
- **enabled** - активен ли раздел (по умолчанию - true).

Путь до файла конфигурации может быть относительным бандла, в таком случае он должен начинаться с "@", например
 "@DarvinAdminBundle/Resources/config/admin/image.yaml".

Пример:

```yaml
darvin_admin:
    sections:
        Darvin\AdminBundle\Entity\LogEntry:
            alias:  log
            config: '@DarvinAdminBundle/Resources/config/admin/log.yaml'
```

Конфигурация любого раздела может быть переопределена в главном конфиге приложения (app/config/config.yaml). Для этого нужно
 добавить в секцию "sections" конфигурацию с классом сущности, соответствующим переопределяемой конфигурации.

Пример отключения раздела администрирования:

```yaml
darvin_admin:
    sections:
        Darvin\AdminBundle\Entity\LogEntry:
            enabled: false
```
